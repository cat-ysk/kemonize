#!/usr/bin/env ruby

br = "\r\n"

patterns = {
  ">" => "たのしー！",
  "+" => "たーのしー！",
  "<" => "すごーい！",
  "-" => "すっごーい！",
  "[" => "うわー！",
  "]" => "わーい！",
  "." => "なにこれなにこれ！",
  "," => "おもしろーい！",
}

friends = [
<<EOS,
　 　 　 　 　 　 　 　 　 { :　爻'"　　 /∧:∨:∧::', 　　＼}　　　　　　　　　　　
　　　　　　　　　　　　　 >'"　　　/　{ﾉ　ゝ-'ﾞ　ﾍ:} ､　.　 ＼　 　 　　　　　　　
　　　　　　　 　 　 　 ／/　　 /　|　　　　　　　　 ｉ ト､＼　 ヽ.　/　　 　 　　　
　　　　 　 　 　 　 ／ :/　 　 :|　 |　 　 　 　 　 　:| | 　'，', 　 ∨ /　　　　　　
.　　　 　 　 　 　 /　 /　　 　 |　∧　　　　　　　　リ　　', |　　 ∨ /　　 　　　
　　　　　　　 　 /　 ,'　 　 　 ﾊ　{ _,.斗-　 　 　 `7‐-　 | }　　　∨　　　　　　
　　 　 　 　 　 //　:|　　　　,'　V´ 　 　＼　　　 /　　　ﾑﾄ、　　∧　　　　　　
　　　 　 　 　 ,'/ 　 |　　 　 | 　 .ｨ＝＝ﾐ、＼　,ｨ＝＝ﾐ、ﾑ| 　 /　'，　　　　　
　　　　 　 　 ,' |　　 ゝ、　　| 　 {{　　　 }}　　Ｖ{{　　　 }} {/|:　/　　}　　　 　　
　 　 　 　 　 | :|　　　　`ﾄ､. ゝ、 ゞ＝彡'　　　 ゞ＝彡'　ゝﾑｲ:　　 |i　　　　　
　 　 　 　 　 | :| 　 　 　 ゝ､｀`'ト　　　　　　 '　　　　 　 Уﾘ:　　　 |i　　　　　
　 　 　 　 　 |　'.　　　　ヽ　ヽ人　　　　 /￣￣ 〕　　 ｨi( /: 　 　 /:|　　　　　
　　　　　　　 '.　 '.　　　　 ＼　　)h｡.　_　`ー一' . イ＿＿ｱ{: 　 ∧ﾉ　　　　　
　_　/＾i　 /＾i ヽ. {＼　 　 i⌒ ∧,ｨ,斗i〔〕＞'⌒>'⌒ヽ}{{⌒ヽ=≦　　　　　　　
./ ) {　{ 　|　{　 _｀　 ｀`〜'＾＼{　 { ０o｡ゝ≧こ｀¨¨ｱ´__ ヽ　 ＼　　　　 　　　
,＼ヽ`､＼|　|　( ヽ 　 　 　 　 　 ∧ﾟ o　｡ i{_｡_}_＼`⌒´ 　 ＼__＞‐､　　 　　
､＼) ｀'　 _　|__/ /　　　　 　 　 / ﾉ ｏ　 ／ (＿｀⌒　` ､　　　 ｀`〜､'， 　 　
. ＼　 　 　 　 　 }　　　　　　　/　ゝr‐''´　　　|| ｀`ｰ-‐≦≧s｡. 　ﾟOo｀`ヽ 　
EOS
<<EOS,
　　　　　　 |　　　　　　: l　 l: :.　　l　　　　　　　　　　　　　　　
　　　　　　 |　　　　,.　-┴┴-　､ﾉ　　　　　　　　　　　　　　　
　　　　　　 |　 .　'´ 　 　 　 　 　 ＼　　　　　　　　　　　　　 　
　　　　　　 ﾚ'´　 　.i:{　　　 　 ＼ヽ ＼　　　　　　　　　　　　　
　 　　 　 〃　 　　.:从　　　　　: 从 :}: ヽ　　　　　　　　 　　 　
　 　 　 //　　 . : :/ ＿ヽ　}　. : ,Lﾚｲ : : l　　　　　　　 　　 　　
　　　 /　　　　: :/´　_,_,｀メ､: :./,_,ﾚﾊ : : }　　　　　　　 　　　 　
　　 〃　 ヽ　. : |　 　行｡　　V行.｡V : : :}　　　　　 　　 　 　 　
　　.′　　: :＼ :|　ヽ りｿ　　　ﾋｿﾉﾉ レ^ヽ　 　　 　 　 　 　　　
　　l　|　　　: :い　　 ￣ 　 ＿　￣　ﾊ　　 }　 　 　 　　　　 　　
　　l　|　　　 : :Ⅵ　　　　 ヽ_ノ　 . ｲノ　　/　 　　　　　　　 　　
　　l　|＼　　　:{: : :｀ﾌ　ー一 ＜ > ⌒ V　　　　　　 　　 　　　
　 　ヽl　 ｀ー一 ｀¨´ヽ: ﾊ　__ ノ/ 　 　　ヽ　　　　　 　 　 　 　
　　　　 　 　 　　 　 /⌒介⌒V　　　　　 }　 　 　 　　　 　 　 
　　　　　　 　　 　　 }　　L}　　「￣￣｀ヽﾉ　 　 　 　　　　 　　
　　　　　　 　 　 　 ∧__ﾉ　`ーl　　: ．./　ヽ　　　　　　 　　 　
　　 　 　　 　　 　 /　　 ﾊ　　 l　ｃ ： /　　 }　　　　　　　　 　 
　　　　　　　　　 /　　 /　}　 ﾉ ．： /　 　 /`ヽ ＿＿　 　　　 
　 　　 　 　 　　/　　 /　　ﾚ'´：： ./　　　/　　ﾊ ．∴｀ヽ　 　 
　　　　　　　　/ 　 　ﾉ　 /．：．･/ ＿__ノ　 ノﾉﾊ　：∵： ＼ 　
EOS
<<EOS,
　　　　　　　　 　 //,　　|//| ∨,　　　　　　　　　　　　　　 　　　　　
　　　 　 　 　 　 //// 　|//|　 '/,　　　　　　　　　　　　　 　 　　　　
　 　 　 　 　 　 //　 /,　|//|　　'/,　　　　　　　　　　　　　 　　　　　
　　　　　　　　 '/　　 '/, |//|　　 '/,　　　　　　　_/〉　　　　　　　　　
.　　　　　　 　 ,′　　 |'///,|　　　'　,　 　 　 ｎ/// ／ﾉ　　　　　　　
　　　　　　 　 ′　　　|////,　　　　 '　　　　| | | |/ /　　　　　　　　
　　　　　　　,’　 　 　 |/ / /,　　　　　　　　｜　　 / /7　　 　 　　　
　　　　　 　 {　　　　　j/从//,　 　 　 | 　 　 |　　 ｛_//　　　　　 　　
　　　　　　　'， 　 _　　 ^~￣~^　　_　ﾉ ,　　　　　　 ノ　　　　　　　　
　　　　　 　 人　'´　　/∨ Λ　 　 ´　, ´　 /　　／　　　　 　 　 　　
.　　　　　 , ´　　　　 /ΛＶΛ〉　　　　´　　｀　 /　　　　　 　 　　　　
　　　　　/　/　　　 ｜　　　　　　　　 　 ‘,　 ∨　　　 　 　 　　　　　
　　　　 ,′:　　 　 l八 　　 　 　 |Λ 　 　 |　　'，　　　 　 　 　 　　　
　　　　　　|　　　|八‐-ミ 　 　 ィ|⌒|　　　|　 　 ,　　　　　　　 　 　　
　　　　，　|　　　|　 x==Λ｜ ｘ牛ｘИイ 八 ｜ |　　　　　　　 　　　
　　　　|　八　　｜ { |rし| V|/勹し| }　 |/　　 | ｜　　　　　 　 　　　
　　　 ｜　　＼　|　　Vツ　 　 Ｖツ　/Λ/　　　 ;　　　　 　　　　　　
.　　　　　　　 　)从 　　　　　　　 　人 /　 ／Ⅳ　　　　 　 　 　 　　
　　　　 ∨＼　　 /i＞ ., ｀　　´, 　⌒iΛ／　　　　　　　　　　　 　 　
.　 　 　 　 　 ＼/　／_ﾉ「≧≦　 　 ﾉ　′　　　　　　　　　　　　 　　
　　　　 Г|　 　 ／ Λ　｝　　 Ｌ厂　∨　　　　　　　　　　 　　　　 　
　 　 r‐┴┐　 /　/ 　 〈＿,.ｘ<　　 　 ´_　　　　　　　　　　 　　　　　
　　 〈　 ⌒｝　〈__ ′　　　　　　＼　　　´　　　　　　　　　　 　 　　　
　　　L　 ノ 　 r┴-　ﾐ　　　　　 　 　 　 |　　　　　　　　 　　　　 　　
　　　 ⌒|　　V|　　 　 /　　　　 　 |　　 ﾉ　　　　　　　　　 　 　　　　
　　　　　'__　　＼　　 Λ　　　　　人 イ　　　　　　　　　　　　 　 　　
　　　　　 '__　　　 　 /〈 ⌒　 ¨¨´　 ｣|　　　　　　　　　　　　　 　　　
　　　　 　 ' _＿＿／　 ｝ﾆ=- _ - Ξ _Ｌ 　-‐ ニ Ξ ニ ‐- ，　 　 　
　　　　　　　　　　　 ／- _ - Ξ _ - Ξ _ - Ξ _ - Ξ　 Ξ -＼　 　
　　　　　　　　 　 ／ _ - Ξ _ - Ξ _ - Ξ _ - Ξ _ - Ξ　Ξ -|　　
　　　　　　　　 ／- Ξ _ - Ξ _ - Ξ _ - Ξ _ - Ξ _ - Ξ 　_｜ 　
　　　　　_　-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ - Ξ|　　
　_　-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ 　-　Ξ　Ξ|　　
Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ-　Ξ 　- Ξ - Ξ -ΞΛ|　　
EOS
<<EOS,
　　　　　　　　　 　 　 　 /ﾞヽ　Ｙﾞい,　　　　　　　　　 　 　 　 　　　
　 　 　 　 　 　 　 　 　 //ﾞｖﾍ, | :|　ﾍ　　　　　　　　　　　 　　 　　
.　　　　　　 　 　 　 　 :ﾞ'　　Vﾊ| :| 　 ﾞ:,　　　　　　　　　　 　 　　　
　　　　　　　　　　　　 |i　 　 |:｜:| 　 ハ　　　　 r「ｌ ,ゎ　 　　 　 　
　　　　　　　　　　　　 |i　_)Ｖ|:｜:|Ｖ(_, ｉ|　　　〈〔川//　　　　 　 　
　　　　　　　　　　　　 |ｉ _〉 _｣:⊥:Ｌ_ 〈 ｉ|　　　｜ 　 {ﾉ〉　　　　　　
　　　　　 　 　 　 　 　 )じ ´: ,:ｲ ﾄ､: :｀:くﾞヽ、　j　　／　　　　　　　
.　　　　　　 　 　 　 ／,:´: : :〈八八〉: : : :＼ :ＶI /´　　　　　　 　　
　　　　 　 　 　 　 / /: : : : :| : : : : : ﾄ､ヽ: : :ﾞ: ∨　　　　　 　 　　　
　　　　　 　 　 　 :ﾞ i|: : : :|:八: : : : :.ﾑ Ｖｌ : : |iい　　　　　　　　　　
　　　　　 　 　 　 |:八: : ∧k泝 : : 泝k　ﾊ : 八 |　　　　　　　　　　
　　　　　 　 　 　 |: i :＼ﾄ,　ﾋり｀Ｙ ﾋﾘ　{ﾑｲ.: :j |　　　　　　　　　　
　　　　　　　　 　 ＶI、: :〔ﾍ、　 ＿, 　 ノ　｣／Ｖ　　　　　　　　　　
　　　　　　　　　　 　 ＼｢｀ﾒ＞r - rｆ´｀Ｙ/　　　　　　　　　　　　　
　 　 　 　 　 　 　 ｢{_　　./ｘ‐く〉ｰ_{_}ｘく{'　　　　　　　　　　　　　　
.　　　　 　 　 　 ｒ┴､〉 く/　　 Ｙ´ 《　　〈　　　　　　　 　 　　　　　
.　　　　　 　 　 そ⌒{　rｆ⌒`Vﾉ　　ﾞ:,, 　 Ｙ　　　　　　　　 　 　　　
　　　　　　 　 　 ｀Ｙ ＼}i 　 /{(_　　　》 _ノ　　　　　　　　　　 　　　
　　　　　　　　　　 ﾞv　 ｀ヽ/ にﾆ⇒ぐｱ{　　　　　　　　　　　 　　　
　　　　　　　　　　　 ＼__ノ　_}ｰ_-_　 ｯくゝ､_...ﾆ=-――ぇ　　 　 　
　　　　　 　 　 　 　 　 　 ／´o　｡ o ｡ｯく　o 　 Ｏ　（_） ｀ヽ　 　 　
　　　　　　　　　　　 　 _/ Ｏ ｡ o　｡　o　Ｏ　 （_）　　　　 〈　　 　　
　　　　　　　　　　_ｘ＜(_ ） 　Ｏ　 o　 Ｏ 　（ _）　 （ _）　 く　　　 　
　　 　 　 　 　 ／⌒´ 厶'⌒） 　 （_）　　（ _）　　　 　 __厂　 　 　　
　　　　 　 　 厶ｯー‐ｯ､人　（⌒） 　（⌒）　　(⌒）厂 /　　　　 　　
　　　　　　　 　 　 　 　 ｋ|`ーぇ (⌒）　　　　 　 /}ｰ《　　　　 　 　
　　　　　　　　 　 　 　 ﾉ^ﾄ､ ____ﾌ 　 （⌒_）/＼/.ﾉ　 》´￣｀;　　　
　　　 　 　 　 ﾄ-‐rr‐くヽ,ﾊ（_） o{Ｖ^ヽ/＼/　 　 ﾞｖ_＞‐--‐'　　　
　　　　　　　　＞_l」 _. :'　)}　 Ｏﾉ　　　　　　　　　　　　　　 　　 　
　　　　　　　　 `ｰ---‐'´/o 　/　　　　　　　　　　　　　 　　 　　　
　　　　　　　　　　　 　 ,:ﾞ ｡ o/　　　　　　　　　　　　　　 　　　　　
　　　　　 　 　 　 　 　 | ｡ o/　　　　　　　　　　　　　　 　　 　 　　
　　 　 　 　 　 　 　 　 l(_ _/　　　　　　　　　　　　　　　 　 　　　　
　　 　 　 　 　 　 　 　 |　,:ﾞ　　　　　　　　　　　　　　　　 　　　　　
　　　　　 　 　 　 　 　 |__{　　　　　　　　　　　　　　　　　　　　　　
　　　 　 　 　 　 　 　 {{》《}}　　　　　　　　　　　　　　　　 　　　　　
　　　　　　　 　 　 　 ﾉ《 ,》_　　　　　　　　　　　　　　　　 　　　　　
　 　 　 　 　 　 　 　 ﾞv＿___）　　　　　　　　　　　　　　　 　　　　　
EOS
<<EOS,
.　　　　　　 　 ／^ヽ 　 　 /^`＼　　　　　　　　　　　
　　　 　 　 　/,　 　　{　　 }.　　　＼　　　　　 　　　　
.　　　　　　 //^`ヽ　｛　　.｝　/^ヽ .ﾍ　　　　　　　　　
　　　　　　//...........,　｛　　｝　,.........V.|　　　　　　　　　
　 　 　 　 | |　..........,　{　　}　.,...........| |　　　　　　　　　
　 　 　 　 | |..............,　′ ′,.............| |　　　　　　　　　
　 　 　 　 | |........ ﾉﾚ,　∨　,ノ{__,.... | |　　　　　　　　　
　 　 　 　 | |......V ﾚ |　 |　 |ﾘV（ ....| |　　　　　　　　　
　 　 　 　 | |...._ﾉﾌﾊ.|　 |　 lﾚﾊV{,. | |　　　　　　　　　
　 　 　 　 | |...._）ﾉﾌ |　 |　 |ﾊﾚﾘ（_.| |　　　　　　　　　
　　　 　 　 :,.....ﾌ ＞――――＜ﾉ...,　　　　　 　　　　
　　 　 　 　 〉'^´: : 〃}}: :{{ヾ,: : : :`く　　　　 　 　 　 　
.　　　 　 ／:／: : 〃: :}}__{{: }}: : :.＼: ＼　　　 　 　　　
　 　　　/: :/: : : /:| : : : : : :. :.|: : : : ‘:,: :‘:.,　　　　 　　
. 　　　/: :/: : : /　|:ﾊ: : : : : :∧ : : : : ‘,: : ‘:,　　　　 　
　　　/: :/: : :／￣|｀ ∨:/: /´￣｀ヽ: : ‘,: : :‘:,　　 　　
　 　 |: :｛: : : : | ,ｨf芋ﾐ∨:./ｨf芋ﾐx: : : : :｝: : : |　　　　
　 　 |: : :＼:. :.|{{ んﾊ' ﾍ/　んﾊ　}}: : ／: : : :.|　　　　
　 　 | : : : : ＼|　ゞ”┘　,　 ゞﾞ┘ |／}: : :. :. :.| 　　 　
　 　 |: : : : : |L ﾍ　　 ｒ‐　 ｧ　　 ｲ__ノ|: : : : : :|　　　　
　 　 |/＼:. :.|∧::::〕iト　 __ 　 イ::::: ∧|:. :.／ﾍ|　　　　
.　　 　 　 ＼|　 ＼〈￣＼／￣〉／　 |／　　　 　 　　
　　　　　　　　　　ノ〉＿,[],＿〈乂＿　　　 　 　 　　 　
　　　　　　 ／￣|　　　 | |　　 |　 　 ＼　　　　 　 　　
　　　 　 　 |　 ヽl. 　 　 | |　　｜/　 　 |　 　 　 　　 　
　　　＿＿_|____,ﾉ　　　､| |,.　　乂,＿___|＿___　 　 　　
　　 ＼:.O:. 　 ,'　　　　 :| |:　 　 　',　 .:。O／　 　 　　
　　 　 |0:。:.　{　　　　　| |　　　　 } .: :＿/　 　　　　　
　　 　 |:.:.o:O 乂斗---　　..,,＿＿／ー┐　 　　　　　
　　 　 |O:.:o:. :. :. :.o:. 。.. .. .　　　　　 ﾆ〈　　　　　　　
.　 　　乂＿＿＿＿__,,..　　--‐‐‐---r='　　　　　　　
　　　　　　｀`ｰ┬――――――┬ '^　　　　　　　　
　　　　 　 　 　 |o:.ﾟ:.　O∧O :0:. : |　　　　　　　　　　
　　　　 　 　 　 |O:.｡　O∨O　 :.:()|　　　　　　　　　　
EOS
<<EOS,
　　　　 　 　 　 　 ／　　／　　　　　/ 厶ｲ ＼}/:ﾉ {::}　　　 ＼/　　　　　
　 　 　 　 　 　 ／／　:/　　　　　　/　　 　 　 ´ 　 ':j　　　　　'，　　 　　
　　　　　　　　/ /　　:/　　　　／ ｲ　　　　　　　　　　 }:　 　 　 '，　　 　
　　　　 　 　 / / 　 :/　　　　ｲ _/_j{　　　　　　　 　 } ∧　i　　　 '，　　　
.　　　　　　 / /　 　:| 　 　 :/ { /⌒ト-､{　　　　　　//　|　|　　　　i　　　
　　　　　　/ /　　　 {　 　 /　 ﾘｨ≠ミ､　',　 　 ,斗‐一　|　|　　　　|　　　
　　 　 　 /　|　　　　ゝ　　|　〃 んハ ＼}　　 ,ｨ=ミ､　　| /:　　 　 |　　　
.　　　　　| 　|　 　 　 :i＼ :|　{{　{rtjﾍ} 　 |　 ,ん:ﾊ　Y　/ｲ}　　　 .ｲ　　　
.　　　　　|　∧　　　　{＼｢｀　`　vこｿ　　|／{rtjﾍ}　}} /＾}'　　　/ |　　　
　　　　　 ∨　＼　　ﾄ > j{　　　　　　　 　 　 vこｿ　' /ﾊﾉ 　 ／　;　　　
　　　　　　　　　 ＼ {　V＾＼　　　　　　'　　　　　　 r‐イ-=彡　 /　　　
　　　　　　 __　　　／⌒}}`ヽ)h｡ 　 r― ､　　　　　ノ／ﾉ　　 　 /}　　 　
　　　 　 ∠)　｀'＜　　 ‖／⌒ヽ)h｡.こ´__　.｡s≦ ´ <／　　.／/　 　 　
.　　 　 / o　 　 　 ＼〃/ ﾟo｡ ﾟo｡｀>‐「ｲ ｡oﾟ　} ヽ　　} __ .ｨi( }/　　 　　
EOS
<<EOS,
　　　　　　　　　　　　　　　　　 　 　 　 　 ||　 _」__」___　 〈_, |:|　　　　　　　 　　
　　　　　　　　　　　　　　　　　　　　 　 　 》がｙヘ、: : :｀:く_ﾉ:|　　　　　　 　　　
　　　　　　　　　　　　 　 　 　 　 　 　 　 //:´ : ｀Ｖ: : : : : : ＼ヽ、　　　　　　 　
　　　　　　　　　　　　　　　　　　　　 　 //:i : : : : j:ハ:ヽ : : : : ﾞ:ｖ＼　　　　 　　
　　　　　　　　　　　　　　　　　　　　　 :ﾞi| Ａ+: : : 7⌒∨: : : : : :i| : : ＼　　 　 　
　　　　　　　　　　　　　　　 　 　 　 　 |八i,ｒk( : /伜k,　Ｙ: : : ／: : : i : ﾞ:、 　 　
　　　　　　　　　　　　　　　 　 　 　 　 |: :Ｙﾋﾘ,Ｙ　ﾋリ 〉 ｊ:_:ｧく : : : :j ｌ : : |　 　　
　　　　　　　　　　　　　 　 　 　 　 　 人〈 　 　 　 　 　 ´ ´)ﾉ｢Ｙ_:ん'´): |　 　　
　　　　　　　　　　 　 　 　 　 　 　 　 　 |:i＼ ー '’　　. :r（＼」 し' ﾉﾌ: :/　 　　
　　　　　　 ＿　　　　　　　　 　 　 　 　 VY´≧≦⌒):_:ﾁ‐ぇ _ _ ィ´ｊ／　　 　　
　　　　　 ‘ｰｧ ｀ヽ、__＿____　　　 　 ｘﾍ. ﾚ〉oﾟｒrくﾟo〈／{　 {_ ｡_oﾌ´　 　　　　　
　 　ｔそｒｰ='´　 ＿　　　　　 ｀¨ﾌ¨´　　 厂う介し `（　 ‘ｖ_＞ｧ'´　　　　　　　　
. 　 　 ｀¨⌒¨´ 　　 ｀¨二ﾆ=--―--=ﾆｱ´/´/´　 　 ＼ノ`r‐’　　　　　　　　 　
　　　　　　　　　　　　　　　 　 　 　 　 {i　{_ {_　　　　　ﾊﾟ｡ﾞヽ　　　　　　　　　　
　　　　　　　　　　　 　 　 　 　 　 　 　 》こ｡三｡ﾆ｡ミメ.└‐┘.　　　　　　　　 　
　　　　　　　　　　　　　　　　　　　　　 ｢≫≪ ｰ‐うＹ.　　　　　　　　 　 　　　 　
　　　　　　　　　　　　　　　　　　 　 　 jo ｡ o ｡ o｀く.　　　　　　　　　　 　 　　　
　　　　　　　　　　 　 　 　 　 　 　 　 /≫≪ ｡ o ｡ o｀ヽ、　　　　　　　　　 　 　
　　　　　　　　　　　　　　　　　　　　/O　　O　　O　　O ＼　　　　　　　　　　　
　　　　　　　　　　　　　　　 　 　 ／O 　 O 　 O 　 O 　 O ｀＞ｘ　　　　　 　 　
　　　　　　　　　　　 　 ﾄ-t‐=ァく） (_) 　 (_) 　 (_) 　 (_)　｢｀⌒´ (＼　　　　　 　
　　　　　　　　　　　 ト┘　｀¨´ (_) 　 (_)　　(_)　　(_) く⌒|　(_) 　 　 ＼.　　　 　
　　 　 　 　 　 　 　 ＞'⌒) 　 (⌒) 　 (⌒) 　 (⌒)　「´　 | 　 　 　　(⌒)ヽ　　　
.　　　　　 　 　 　 　 ⌒ﾌ　(⌒) 　 (⌒) 　 (⌒)　ｧ‐┘ 　 |　(⌒)　 ┌く_厂　　　
　　　　　　　　　　　　　 ⌒ﾌ／]／]_.ィ´]／ヽ厂i| 　 　 __｣ヽ.｢＼[⌒　　　　 　　
　　　　　　　　　　 　 　 　 　 　 　 　 |ｰ‐t‐ｧ‐‐介ｰ＜)Ｏ|　　　　　　　　　 　 　
　　　　　　　　　　　　　 　 　 　 　 　 | (_)　 　 j:ハ (_) 　〈　　　　　　 　 　　　　
　　　　　　　　　　　　　　　　 　 　 　 |)　　Ｏ 〈　 ﾍ、　 Ｏﾞｖ　　　　　　　 　　　
EOS
<<EOS,
.　　　　　　　 　 　 　 　 ,:ﾞ/ ､ﾊ/|　　Ｙ 　|ﾊ/l_, ﾍﾞ:,　　　　　　　 　　　
　　　　　　　　　　　 　 ん′」　 ｌ　 　 　 l 　 ｢ 　)ﾊ 　　　　　　　 　　
　　　　　　　　 　 　 　 | |　_〉 　｣ 　 」_　」_ 　〈_　| | 　　　　　　　 　　
　　　　　　　　 　 　 　 | | く_＞ ’ ⌒^⌒ ‘ ＜_く | | 　　　　　　　 　　
　 　 　 　 　 　 　 　 　 〉'ﾞ´　　　∧　　∧　　　｀ﾞ'〈.　　　 　 　　 　 　
　　　　　　　　 　 　 ／／　　　 〈八Ｗ八〉 　 　 ＼＼ 　　　　　　　　
.　　　　　 　 　 　 ,:', :'ﾞ 　 ,　/: .　 　 　 　 　 ﾍ 　、 ﾞ:.､ﾞ:､ 　　　　 　　
　　　　　　 　 　 //　　　｜:|｜: .　　　　.:│.:ハ:│　 ‘vﾍ 　 　　 　　
.　　 　 　 　 　 / :ｌ　　　. :|斗ｷ‐く/ ｢」 i7‐jﾁ‐-|: |: . 　 l　:'． 　 　　　
　　　　　　　　,′:|　: . : :∧:ﾄ､Ｖ(: : .　　.:j/　　 |:/: : .:　|　:ﾊ. 　 　　　
　　　　　　 　 | l　|　: : :〈　｀沈㏍(: : : . .:沈㏍　´〉: : : ｜.:ｌ | . 　 　 　
　　　　　　 　 | l 人 : : .∧ 《 rうｘ｢｀ヽ:ノｒうｘ｢》 ∧ : .: 人.:ｌ | 　 　　　
　　　　　　 　 | |: 　ｌ＼〈(..}　弋_ソ 　 　弋_ソ　 {..)〉／ｌ　 :| | 　 　　　
　　　　　　 　 | |: : .:＼: :八　　　　　 ,　　　　　 八: :／:. ..:| | 　 　　　
.　　　 　 　 　 V＼: : .:rへ:ヘ、 　 ｔ‐‐‐ｧ 　 . イ : イ: : .:／V. 　 　　　
　　　 　 　 　 　 　 ＼」　 ｀Y´＞ ..｀こ´. ＜｀Y´ 　」_／. 　　　　　　　
　　　　　 　 /＾｢＼_　　　　_〉Oo_｡{ ８ }｡_oO〈__ 　　　　 　　　　　　　
　　　　　 rくヽ し'　｀)　 /´(_｡_.･ｘ个r个ｘ・._｡_)　｀．. 　　　　　　　　　
.　　 　 　 ヽ_)く`てｒ' 　/　　|i　　 　 |i 　 　 　i|　 　'．. 　　　　　　　　
　　　　　　 　 ｢ 　Ｙ　/　 ｀ |i　　　　|ｉ 　 　 　i| ,　　‘v‐， 　　　　　　
　　　 　 　 　 |　　「⌒｀ヽ、|ｉ　　　　|ｉ　　　 　i|(　　　 )人 　　　　　　
　　　 　 　 　 l 　 ‘ｖ 　 　 〉　 　 　 |i　 　 . : :i| ヽ._／　　ヽ 　　　　　
EOS
<<EOS,
　　　　 　 　 /＼　　　　　　　　　　　　 __ﾉ.　　　　　　 　　　　　
　　　　 　 　 lΛ::＼　　　　　　　　,. :::::／ⅱ　　 　 　　　　　　　
　　　　 　 　 | 　＼::＼　　　　　／:::／　　||.　　　　　　　　　　　
　　　　 　 　 |　　　＼::＼ 　 ／:::／　　　 ||. 　 　　　　　　　　　
.　　　　　 　 ‘,　　<⌒＼: ∨:::∠__　　　　||.　　　　　　　　　　　
　　 　 　 　 　 ＼ ＜　　} : : :/Λ⌒ 　　_,.’.　　　　　　　　　　　
　　　　　　　／: : : : : : : : : : : : : : : : : ｘく´　　　　　　　　　　　　
　　　　　　. :／: : : :／||＿: : : : : : : : : : : '，.　　　　　　　　　　　
　　　　　/ /: : :/: : : : : ￣/:.: : : : : : :｜ : :'， 　　　　　　　　　　
.　　　　/ /: : :7i⌒ヽ : : :__: ／|:...:/: : :| : : : '.　 　　　　　　　　　
.　　　 ‖:| : : れﾐx:..: :/: ／ ヽ: :/;′: |: : : : |.　　　　　　　　　　
.　　 r‐―ﾄ |: |　ﾉﾊ: :/_jれミ/冫/: : : : : : : /|　　　　　　　　　　
　　〈 / / 　|Λ,,ﾋノV 　,_ﾉﾊ Ｙ /: : ／: : : / :|　　　　　　　　　　
.　 　 {_{＿ｧ　7 　 　 　 Vツ ﾉ/: ／|: : : : : :φ. 　　　　　　　　　
　　　　(＿ ノ人┌　　ｖ､　　/イ　 ﾉ : : /://. 　　　　　　　　　　
　　　　　　/　　〕ト　 ___ﾉ イ⌒ア／|／|/　　　 _､rぃ 　 　　　　
.　　　 　 /　　/　{⌒ヒﾉ￣｀ヽ⌒＼ ＿ノ　　 _'ﾆﾆﾆﾆ_　　　　　
　　　　 /　　 {: : ::厂 /⌒ ＼ﾉ　 　 >､　　　 ﾆﾆﾆﾆﾆﾆ-　　　　
.　　 　 {　　 　 ／!　//　　　 ＼／ : : ｝　　　´'_ﾆﾆ: :ﾆﾆ-　　　
　 　 　 ＼__／　人〈/　／　　　:＼―: :＼　 　´'_: :: :: :: ::- 　　
　　　　　　　__／⌒└く　／　 　 　: : : : : :'，　　´ﾆﾆ: :: :: -　　
　　　　　　/ﾆ:: :: : : :c＼ ￣￣~^＜.,＿＿ノ　　　 ﾆ: :: :: :: :_. 　
　 　 　 　 {: ::ﾆ: : :c=||=c:＞===彡∨　　　　　　_-: :: :: :: ::: 　　
　　 　 　 〈: : : : :: ::ﾆｃ: : : :ﾆ-:: ::ﾆ: :'，＼.,__,.､ｖ'｀ﾆ-: :: :: _　　　
.　　　　 ／＼- : : : : : : : : : : : : : : : : ' : : |ﾆﾆ: :: :: :: :: :_-.　 　　
　　 　 /::ﾆ: : |:ﾆ-:: ::ﾆ-: : : ::ﾆ :: ::ﾆ: :|: : :|ﾆﾆ: :: :: :: -　 　　　　
.　 　 /: : : : :_|＿: : : : : : : : : : : ﾆ-: :八::ﾉ⌒¨¨¨¨´　 　 　　　　
　　 /:- : : : ´ : : ＼: :二- ::ﾆ-: : ／⌒ 　　　　　　　　　　　　　
.　 〈: : /: : :: ﾆ:: : : ＞―へ／⌒く　　　　　　　　　　　　　　　　
　　 ｀ {: :ﾆ:-‐: :￣ -＜￣←＜　　)　　　　　　　　　　　　　　　
　　　 丶‐-------　　 ＼　　　￣　　　　　　　　　　　　　 　　
　　　　　　　　　　　　 ＼__)　　　　　　　　　　　　　　　　　 　　
EOS
<<EOS,
.　　　　 　 /7ヽ 　　/7ヽ. 　　　　　　　　　 　　
　　　　　 ////ﾍ.　////ﾍ.. 　　　　　　　　　 　
.　　　　 /´´´´´］_［´´´´ハ 　　　　　　 　 　　
.　　 　 .ﾞ　　　　　　　 　 　 ﾞ. 　 　　　　　　　　
　　　　|　 　 ｎ　　　　ｎ　　｜.　 　 　　　　　　
　　　　| 　 ,, U　'⌒'　U ､　 |. 　　　　　　　　　
　　 　 [`≠==―┸―==≒ﾞ]. 　　　　　　　　　
　　 　 [`＝==―┰―==≠ﾞ]. 　　　　　　　　　
.　　 　 Ｖ　 　 【(⌒)】　　　Ｖiヽ.. 　　 　　　　　
　　　 　 ＼　　　　 　 　 ／i i　ｉ`ｧ┐.　　　　　
　　　　　／＾＞――＜＾＼リ__リ_ノ. 　　　　　
　 　 .:.（_(_(ノ.:.:.:.:.:.:.:.:.:.ﾍ､)_)_).:.:.:.:.:.:.. 　　　　　
EOS
]

path = ARGV[0]

unless File.exist?(path)
  puts 'フレンズのもとがいないよ！'
  exit
end

code = File.read path 
code.gsub!(/[^><+-.,\[\]]/, '') 

while(!code.empty?) do
  friends.sample.lines do |aa_line|
    print aa_line.chomp
    print code.slice!(0, 4).gsub(/./, patterns)
    print br
  end
  print br
end
